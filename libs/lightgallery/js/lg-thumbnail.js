!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.LgThumbnail=e()}}(function(){var e;return function t(e,o,r){function n(s,l){if(!o[s]){if(!e[s]){var u="function"==typeof require&&require;if(!l&&u)return u(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var c=o[s]={exports:{}};e[s][0].call(c.exports,function(t){var o=e[s][1][t];return n(o?o:t)},c,c.exports,t,e,o,r)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,o,r){!function(t,o){if("function"==typeof e&&e.amd)e([],o);else if("undefined"!=typeof r)o();else{var n={exports:{}};o(),t.lgThumbnail=n.exports}}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},t={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},o=function(o){return this.el=o,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=e({},t,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};o.prototype.init=function(){var e=this;this.core.s.thumbnail&&this.core.items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(e.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},o.prototype.build=function(){function e(e,t,i){var s,l=o.core.isVideo(e,i)||{},u="";l.youtube||l.vimeo||l.dailymotion?l.youtube?s=o.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+l.youtube[1]+"/"+o.core.s.youtubeThumbSize+".jpg":t:l.vimeo?o.core.s.loadVimeoThumbnail?(s="//i.vimeocdn.com/video/error_"+n+".jpg",u=l.vimeo[1]):s=t:l.dailymotion&&(s=o.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+l.dailymotion[1]:t):s=t,r+='<div data-vimeo-id="'+u+'" class="lg-thumb-item" style="width:'+o.core.s.thumbWidth+"px; margin-right: "+o.core.s.thumbMargin+'px"><img src="'+s+'" /></div>',u=""}var t,o=this,r="",n="",i='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":n="640";break;case"thumbnail_medium":n="200x150";break;case"thumbnail_small":n="100x75"}if(utils.addClass(o.core.outer,"lg-has-thumb"),o.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",i),o.thumbOuter=o.core.outer.querySelector(".lg-thumb-outer"),o.thumbOuterWidth=o.thumbOuter.offsetWidth,o.core.s.animateThumb&&(o.core.outer.querySelector(".lg-thumb").style.width=o.thumbTotalWidth+"px",o.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(o.thumbOuter.style.height=o.core.s.thumbContHeight+"px"),o.core.s.dynamic)for(var s=0;s<o.core.s.dynamicEl.length;s++)e(o.core.s.dynamicEl[s].src,o.core.s.dynamicEl[s].thumb,s);else for(var l=0;l<o.core.items.length;l++)o.core.s.exThumbImage?e(o.core.items[l].getAttribute("href")||o.core.items[l].getAttribute("data-src"),o.core.items[l].getAttribute(o.core.s.exThumbImage),l):e(o.core.items[l].getAttribute("href")||o.core.items[l].getAttribute("data-src"),o.core.items[l].querySelector("img").getAttribute("src"),l);o.core.outer.querySelector(".lg-thumb").innerHTML=r,t=o.core.outer.querySelectorAll(".lg-thumb-item");for(var u=0;u<t.length;u++)!function(e){var r=t[e],n=r.getAttribute("data-vimeo-id");if(n){window["lgJsonP"+o.el.getAttribute("lg-uid")+u]=function(e){r.querySelector("img").setAttribute("src",e[0][o.core.s.vimeoThumbSize])};var i=document.createElement("script");i.className="lg-script",i.src="//www.vimeo.com/api/v2/video/"+n+".json?callback=lgJsonP"+o.el.getAttribute("lg-uid")+u,document.body.appendChild(i)}}(u);utils.addClass(t[o.core.index],"active"),utils.on(o.core.el,"onBeforeSlide.lgtm",function(){for(var e=0;e<t.length;e++)utils.removeClass(t[e],"active");utils.addClass(t[o.core.index],"active")});for(var a=0;a<t.length;a++)!function(e){utils.on(t[e],"click.lg touchend.lg",function(){setTimeout(function(){(o.thumbClickable&&!o.core.lgBusy||!o.core.doCss())&&(o.core.index=e,o.core.slide(o.core.index,!1,!0))},50)})}(a);utils.on(o.core.el,"onBeforeSlide.lgtm",function(){o.animateThumb(o.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){o.animateThumb(o.core.index),o.thumbOuterWidth=o.thumbOuter.offsetWidth},200)})},o.prototype.setTranslate=function(e){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+e+"px, 0px, 0px)")},o.prototype.animateThumb=function(e){var t=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var o;switch(this.core.s.currentPagerPosition){case"left":o=0;break;case"middle":o=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":o=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-o,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(utils.hasClass(t,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms"),this.core.doCss()||(t.style.left=-this.left+"px")):this.core.doCss()||(t.style.left=-this.left+"px"),this.setTranslate(this.left)}},o.prototype.enableThumbDrag=function(){var e=this,t=0,o=0,r=!1,n=!1,i=0;utils.addClass(e.thumbOuter,"lg-grab"),utils.on(e.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(o){e.thumbTotalWidth>e.thumbOuterWidth&&(o.preventDefault(),t=o.pageX,r=!0,e.core.outer.scrollLeft+=1,e.core.outer.scrollLeft-=1,e.thumbClickable=!1,utils.removeClass(e.thumbOuter,"lg-grab"),utils.addClass(e.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(s){r&&(i=e.left,n=!0,o=s.pageX,utils.addClass(e.thumbOuter,"lg-dragging"),i-=o-t,i>e.thumbTotalWidth-e.thumbOuterWidth&&(i=e.thumbTotalWidth-e.thumbOuterWidth),0>i&&(i=0),e.setTranslate(i))}),utils.on(window,"mouseup.lgthumb",function(){n?(n=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),e.left=i,Math.abs(o-t)<e.core.s.swipeThreshold&&(e.thumbClickable=!0)):e.thumbClickable=!0,r&&(r=!1,utils.removeClass(e.thumbOuter,"lg-grabbing"),utils.addClass(e.thumbOuter,"lg-grab"))})},o.prototype.enableThumbSwipe=function(){var e=this,t=0,o=0,r=!1,n=0;utils.on(e.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(o){e.thumbTotalWidth>e.thumbOuterWidth&&(o.preventDefault(),t=o.targetTouches[0].pageX,e.thumbClickable=!1)}),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),o=i.targetTouches[0].pageX,r=!0,utils.addClass(e.thumbOuter,"lg-dragging"),n=e.left,n-=o-t,n>e.thumbTotalWidth-e.thumbOuterWidth&&(n=e.thumbTotalWidth-e.thumbOuterWidth),0>n&&(n=0),e.setTranslate(n))}),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){e.thumbTotalWidth>e.thumbOuterWidth?r?(r=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),Math.abs(o-t)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=n):e.thumbClickable=!0:e.thumbClickable=!0})},o.prototype.toggle=function(){var e=this;e.core.s.toggleThumb&&(utils.addClass(e.core.outer,"lg-can-toggle"),e.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-thumb-open")?utils.removeClass(e.core.outer,"lg-thumb-open"):utils.addClass(e.core.outer,"lg-thumb-open")}))},o.prototype.thumbkeyPress=function(){var e=this;utils.on(window,"keydown.lgthumb",function(t){38===t.keyCode?(t.preventDefault(),utils.addClass(e.core.outer,"lg-thumb-open")):40===t.keyCode&&(t.preventDefault(),utils.removeClass(e.core.outer,"lg-thumb-open"))})},o.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.items.length>1){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var e=document.getElementsByClassName("lg-script");e[0];)e[0].parentNode.removeChild(e[0])}},window.lgModules.thumbnail=o})},{}]},{},[1])(1)});